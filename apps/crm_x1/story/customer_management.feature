Feature: 客户管理
  为销售流程提供统一的客户主数据，支撑拜访与商机阶段的精准归属。

  Background:
    Given 系统已定义「客户字段配置表」:
      | 字段         | 类型   | 是否必填 |
      | 客户名称     | 文本   | 是       |
      | 客户行业     | 选项   | 是       |
      | 客户分层     | 选项   | 是       |
      | 人员规模     | 选项   | 否       |
      | 国家/地区   | 选项   | 否       |
      | 官方网站     | URL    | 否       |

  Rule: 创建客户
    Scenario: 新建客户成功
      Given 销售人员已登录系统
      When 在客户列表点击「新建客户」
      And 输入:
        | 客户名称 |=| "上海星辰科技" |
        | 客户行业 |=| "软件"         |
        | 客户分层 |=| "A"            |
      And 点击「保存」
      Then 系统提示 "创建成功"
      And 客户列表出现 "上海星辰科技"

  Rule: 编辑客户
    Scenario Outline: 批量字段修改
      Given 已存在客户 "<客户名称>"
      When 销售人员将 "<字段>" 修改为 "<新值>"
      And 点击「保存」
      Then "<字段>" 应显示为 "<新值>"
      And 系统记录一条修改日志

      Examples:
        | 客户名称     | 字段     | 新值            |
        | 上海星辰科技 | 官方网站 | https://xing.com |
        | 华北数码集团 | 客户分层 | B              |

  Rule: 必填字段校验
    Scenario: 缺失必填字段拦截
      Given 销售人员点击「新建客户」
      When 仅填写 "客户行业=制造业"
      And 点击「保存」
      Then 系统提示 "客户名称为必填项"
      And 不保存记录 